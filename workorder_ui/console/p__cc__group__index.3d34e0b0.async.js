"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8371],{63434:function(G,w,e){var y=e(87299),u=e(9676),M=e(1413),n=e(44925),_=e(85893),T=e(22270),D=e(67294),E=e(64893),Z=e(99960),x=["options","fieldProps","proFieldProps","valueEnum"],m=D.forwardRef(function(r,v){var d=r.options,l=r.fieldProps,s=r.proFieldProps,o=r.valueEnum,g=(0,n.Z)(r,x);return(0,_.jsx)(Z.Z,(0,M.Z)({ref:v,valueType:"checkbox",valueEnum:(0,T.h)(o,void 0),fieldProps:(0,M.Z)({options:d},l),lightProps:(0,M.Z)({labelFormatter:function(){return(0,_.jsx)(Z.Z,(0,M.Z)({ref:v,valueType:"checkbox",mode:"read",valueEnum:(0,T.h)(o,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,M.Z)({options:d},l),proFieldProps:s},g))}},g.lightProps),proFieldProps:s},g))}),h=D.forwardRef(function(r,v){var d=r.fieldProps,l=r.children;return(0,_.jsx)(u.Z,(0,M.Z)((0,M.Z)({ref:v},d),{},{children:l}))}),F=(0,E.G)(h,{valuePropName:"checked"}),c=F;c.Group=m,w.Z=c},31199:function(G,w,e){var y=e(1413),u=e(44925),M=e(85893),n=e(67294),_=e(99960),T=["fieldProps","min","proFieldProps","max"],D=function(Z,x){var m=Z.fieldProps,h=Z.min,F=Z.proFieldProps,c=Z.max,r=(0,u.Z)(Z,T);return(0,M.jsx)(_.Z,(0,y.Z)({valueType:"digit",fieldProps:(0,y.Z)({min:h,max:c},m),ref:x,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:F},r))};w.Z=n.forwardRef(D)},64317:function(G,w,e){var y=e(1413),u=e(44925),M=e(85893),n=e(22270),_=e(67294),T=e(66758),D=e(99960),E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],x=_.forwardRef(function(r,v){var d=r.fieldProps,l=r.children,s=r.params,o=r.proFieldProps,g=r.mode,S=r.valueEnum,re=r.request,J=r.showSearch,te=r.options,ae=(0,u.Z)(r,E),$=(0,_.useContext)(T.Z);return(0,M.jsx)(D.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,n.h)(S),request:re,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:te,mode:g,showSearch:J,getPopupContainer:$.getPopupContainer},d),ref:v,proFieldProps:o},ae),{},{children:l}))}),m=_.forwardRef(function(r,v){var d=r.fieldProps,l=r.children,s=r.params,o=r.proFieldProps,g=r.mode,S=r.valueEnum,re=r.request,J=r.options,te=(0,u.Z)(r,Z),ae=(0,y.Z)({options:J,mode:g||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},d),$=(0,_.useContext)(T.Z);return(0,M.jsx)(D.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,n.h)(S),request:re,params:s,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:$.getPopupContainer},ae),ref:v,proFieldProps:o},te),{},{children:l}))}),h=x,F=m,c=h;c.SearchSelect=F,c.displayName="ProFormComponent",w.Z=c},5966:function(G,w,e){var y=e(1413),u=e(44925),M=e(85893),n=e(99960),_=["fieldProps","proFieldProps"],T=["fieldProps","proFieldProps"],D="text",E=function(h){var F=h.fieldProps,c=h.proFieldProps,r=(0,u.Z)(h,_);return(0,M.jsx)(n.Z,(0,y.Z)({valueType:D,fieldProps:F,filedConfig:{valueType:D},proFieldProps:c},r))},Z=function(h){var F=h.fieldProps,c=h.proFieldProps,r=(0,u.Z)(h,T);return(0,M.jsx)(n.Z,(0,y.Z)({valueType:"password",fieldProps:F,proFieldProps:c,filedConfig:{valueType:D}},r))},x=E;x.Password=Z,x.displayName="ProFormComponent",w.Z=x},68137:function(G,w,e){var y=e(88601),u=e(85893),M=function(_){return(0,u.jsx)(y._z,{content:_.children})};w.Z=M},85517:function(G,w,e){e.r(w),e.d(w,{default:function(){return Ae}});var y=e(27424),u=e.n(y),M=e(17061),n=e.n(M),_=e(42122),T=e.n(_),D=e(17156),E=e.n(D),Z=e(49101),x=e(73171),m=e(48086),h=e(71577),F=e(50146),c=e(67294),r=e(9459),v=e(88601),d=e(68137),l=e(16894),s=e(71570),o=e(31199),g=e(5966),S=e(64317),re=e(63434),J=e(71257),te=e(273),ae=e(19650),$=e(71230),K=e(15746),_e=e(27049),t=e(85893),Ce=function(a){var O=J.Z.useForm(),I=u()(O,1),j=I[0],R=a.agentStrategyOptions,i=a.overFlowOptions,B=a.agents,ue=a.ivrOptions,oe=a.queueOptions,Y=(0,c.useState)([]),ie=u()(Y,2),ce=ie[0],ne=ie[1],q=(0,c.useState)([]),de=u()(q,2),pe=de[0],ee=de[1],me=function(A){A=="1"?ne(oe):A=="2"?ne(ue):A=="3"&&ne([])},fe=function(A){A=="1"?ee(oe):A=="2"?ee(ue):A=="3"&&ee([])};(0,c.useEffect)(function(){j.resetFields(),me(a.values.queueInoutHandle),fe(a.values.queueTimeoutHandle),j.setFieldsValue({id:a.values.id,name:a.values.name,agentIds:a.agentIds,companyId:a.values.companyId,afterInterval:a.values.afterInterval,callerDisplayId:a.values.afterInterval,recordType:a.values.recordType,levelValue:a.values.levelValue,ttsEngine:a.values.ttsEngine,playContent:a.values.playContent,evaluate:a.values.evaluate,queuePlay:a.values.queuePlay,transferPlay:a.values.transferPlay,callTimeOut:a.values.callTimeOut,groupType:a.values.groupType,notifyPosition:a.values.notifyPosition,notifyRate:a.values.notifyRate,notifyContent:a.values.notifyContent,callMemory:a.values.callMemory,queueInout:a.values.queueInout,queueInoutHandle:a.values.queueInoutHandle,queueInoutValue:a.values.queueInoutValue,queueTimeOut:a.values.queueTimeOut,queueTimeoutHandle:a.values.queueTimeoutHandle,queueTimeoutValue:a.values.queueTimeoutValue,agentStrategy:a.values.agentStrategy,status:a.values.status,createBy:a.values.createBy,createTime:a.values.createTime,updateBy:a.values.updateBy,updateTime:a.values.updateTime,remark:a.values.remark}),console.log("---edit---",a.agents)},[j,a]);var W=(0,r.useIntl)(),ge=function(){j.submit()},ve=function(){a.onCancel(),j.resetFields()},Fe=function(A){a.onSubmit(A)};return(0,t.jsx)(te.Z,{title:W.formatMessage({id:"cc.group.modify",defaultMessage:"\u961F\u5217\u7EF4\u62A4"}),width:720,visible:a.visible,onClose:ve,extra:(0,t.jsxs)(ae.Z,{children:[(0,t.jsx)(h.Z,{onClick:ve,children:"\u53D6\u6D88"}),(0,t.jsx)(h.Z,{onClick:ge,type:"primary",children:"\u63D0\u4EA4"})]}),children:(0,t.jsxs)(J.Z,{form:j,onFinish:Fe,initialValues:a.values,children:[(0,t.jsx)($.Z,{gutter:[16,16],children:(0,t.jsx)(K.Z,{span:24,order:1,children:(0,t.jsx)(o.Z,{name:"id",label:W.formatMessage({id:"cc.group.id",defaultMessage:"ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165ID",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165ID\uFF01"})}]})})}),(0,t.jsxs)($.Z,{gutter:[16,16],children:[(0,t.jsx)(K.Z,{span:6,order:1,children:(0,t.jsx)(o.Z,{name:"levelValue",label:W.formatMessage({id:"cc.group.levelValue",defaultMessage:"\u4F18\u5148\u7EA7"}),width:"xl",initialValue:1,rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u961F\u5217\u4F18\u5148\u7EA7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u961F\u5217\u4F18\u5148\u7EA7\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:2,children:(0,t.jsx)(g.Z,{name:"name",label:W.formatMessage({id:"cc.group.name",defaultMessage:"\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u961F\u5217\u540D\u79F0",rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u961F\u5217\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u961F\u5217\u540D\u79F0\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:3,children:(0,t.jsx)(S.Z,{name:"agentStrategyType",valueEnum:R,label:W.formatMessage({id:"cc:group:agentStrategyType",defaultMessage:"\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u961F\u5217\u7B56\u7565",rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u7B56\u7565\uFF01"})}]})})]}),(0,t.jsx)(_e.Z,{orientation:"left",orientationMargin:"0",children:"\u6EA2\u51FA\u8BBE\u7F6E"}),(0,t.jsxs)($.Z,{gutter:[16,16],children:[(0,t.jsx)(K.Z,{span:6,order:1,children:(0,t.jsx)(o.Z,{name:"queueInout",label:W.formatMessage({id:"cc.group.inout",defaultMessage:"\u6392\u961F\u4EBA\u6570"}),width:"xl",initialValue:5,rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u6392\u961F\u4EBA\u6570\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u6392\u961F\u4EBA\u6570\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:2,children:(0,t.jsx)(S.Z,{name:"queueInoutHandle",valueEnum:i,label:W.formatMessage({id:"cc.group.inoutHandle",defaultMessage:"\u6EA2\u51FA\u5904\u7406"}),fieldProps:{onChange:function(A){return me(A)}},width:"xl",rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u9009\u62E9\u6EA2\u51FA\u5904\u7406\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u6EA2\u51FA\u5904\u7406\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:3,children:(0,t.jsx)(S.Z,{name:"queueInoutValue",valueEnum:ce,label:W.formatMessage({id:"cc.group.inoutValue",defaultMessage:"\u6EA2\u51FA\u8F6C\u79FB"}),width:"xl",rules:[{required:!1,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u9009\u62E9\u6EA2\u51FA\u8F6C\u79FB\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u6EA2\u51FA\u8F6C\u79FB\uFF01"})}]})})]}),(0,t.jsx)(_e.Z,{orientation:"left",orientationMargin:"0",children:"\u8D85\u65F6\u8BBE\u7F6E"}),(0,t.jsxs)($.Z,{gutter:[16,16],children:[(0,t.jsx)(K.Z,{span:6,order:1,children:(0,t.jsx)(o.Z,{name:"queueTimeOut",label:W.formatMessage({id:"cc.group.timeOut",defaultMessage:"\u7B49\u5F85\u65F6\u95F4"}),width:"xl",initialValue:30,rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u7B49\u5F85\u65F6\u95F4\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u7B49\u5F85\u65F6\u95F4\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:2,children:(0,t.jsx)(S.Z,{name:"queueTimeoutHandle",valueEnum:i,label:W.formatMessage({id:"cc.group.timeoutHandle",defaultMessage:"\u8D85\u65F6\u5904\u7406"}),fieldProps:{onChange:function(A){return fe(A)}},width:"xl",rules:[{required:!0,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u9009\u62E9\u8D85\u65F6\u5904\u7406\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u8D85\u65F6\u5904\u7406\uFF01"})}]})}),(0,t.jsx)(K.Z,{span:9,order:3,children:(0,t.jsx)(S.Z,{name:"queueTimeoutValue",valueEnum:pe,label:W.formatMessage({id:"cc.group.timeoutValue",defaultMessage:"\u8D85\u65F6\u8F6C\u79FB"}),width:"xl",rules:[{required:!1,message:(0,t.jsx)(r.FormattedMessage,{id:"\u8BF7\u9009\u62E9\u8D85\u65F6\u8F6C\u79FB\uFF01",defaultMessage:"\u8BF7\u9009\u62E9\u8D85\u65F6\u8F6C\u79FB\uFF01"})}]})})]}),(0,t.jsx)(_e.Z,{orientation:"left",orientationMargin:"0",children:"\u961F\u5217\u5750\u5E2D"}),(0,t.jsx)($.Z,{gutter:[16,16],children:(0,t.jsx)(K.Z,{span:24,order:1,children:(0,t.jsx)(re.Z.Group,{name:"agentIds",options:B})})})]})})},Ze=Ce,he=e(33936),xe=e(44493),Ie=function(){var V=E()(n()().mark(function a(O){var I,j;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return I=m.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),i.prev=1,i.next=4,(0,s.Rp)(T()({},O));case 4:return j=i.sent,I(),j.code===200?m.ZP.success("\u6DFB\u52A0\u6210\u529F"):m.ZP.error(j.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),I(),m.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},a,null,[[1,10]])}));return function(O){return V.apply(this,arguments)}}(),Be=function(){var V=E()(n()().mark(function a(O){var I,j;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return I=m.ZP.loading("\u6B63\u5728\u914D\u7F6E"),i.prev=1,i.next=4,(0,s.mD)(O);case 4:return j=i.sent,I(),j.code===200?m.ZP.success("\u914D\u7F6E\u6210\u529F"):m.ZP.error(j.msg),i.abrupt("return",!0);case 10:return i.prev=10,i.t0=i.catch(1),I(),m.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),i.abrupt("return",!1);case 15:case"end":return i.stop()}},a,null,[[1,10]])}));return function(O){return V.apply(this,arguments)}}(),Me=function(){var V=E()(n()().mark(function a(O){var I,j;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(I=m.ZP.loading("\u6B63\u5728\u5220\u9664"),O){i.next=3;break}return i.abrupt("return",!0);case 3:return i.prev=3,i.next=6,(0,s.BN)(O.map(function(B){return B.id}).join(","));case 6:return j=i.sent,I(),j.code===200?m.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):m.ZP.error(j.msg),i.abrupt("return",!0);case 12:return i.prev=12,i.t0=i.catch(3),I(),m.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),i.abrupt("return",!1);case 17:case"end":return i.stop()}},a,null,[[3,12]])}));return function(O){return V.apply(this,arguments)}}(),Re=function(){var V=E()(n()().mark(function a(O){var I,j,R;return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(I=m.ZP.loading("\u6B63\u5728\u5220\u9664"),O){B.next=3;break}return B.abrupt("return",!0);case 3:return B.prev=3,j=[O.id],B.next=7,(0,s.BN)(j.join(","));case 7:return R=B.sent,I(),R.code===200?m.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):m.ZP.error(R.msg),B.abrupt("return",!0);case 13:return B.prev=13,B.t0=B.catch(3),I(),m.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),B.abrupt("return",!1);case 18:case"end":return B.stop()}},a,null,[[3,13]])}));return function(O){return V.apply(this,arguments)}}(),be=function(){var a=(0,c.useRef)(),O=(0,c.useRef)(),I=(0,c.useState)([]),j=u()(I,2),R=j[0],i=j[1],B=(0,c.useState)(),ue=u()(B,2),oe=ue[0],Y=ue[1],ie=(0,c.useState)(!1),ce=u()(ie,2),ne=ce[0],q=ce[1],de=(0,c.useState)([]),pe=u()(de,2),ee=pe[0],me=pe[1],fe=(0,c.useState)([]),W=u()(fe,2),ge=W[0],ve=W[1],Fe=(0,c.useState)([]),H=u()(Fe,2),A=H[0],Se=H[1],Le=(0,c.useState)(),Te=u()(Le,2),Ue=Te[0],ye=Te[1],We=(0,c.useState)(),De=u()(We,2),Ke=De[0],Oe=De[1],ke=(0,c.useState)([]),je=u()(ke,2),Ee=je[0],Ge=je[1],$e=(0,c.useState)([]),we=u()($e,2),Pe=we[0],Ve=we[1],se=(0,r.useAccess)(),He=(0,r.useIntl)();(0,c.useEffect)(function(){(0,he.zP)("sys_normal_disable").then(function(P){if(P.code===200){var f={};P.data.forEach(function(p){f[p.dictValue]=p.dictLabel}),me(f)}}),(0,he.zP)("queue_over_handle").then(function(P){if(P.code===200){var f={};P.data.forEach(function(p){f[p.dictValue]=p.dictLabel}),Se(f)}}),(0,he.zP)("route_agent_strategy").then(function(P){if(P.code===200){var f={};P.data.forEach(function(p){f[p.dictValue]=p.dictLabel}),ve(f)}}),(0,s.xc)(0).then(function(P){P.code===200&&Oe(P.users.map(function(f){return{value:f.userId,label:f.nickName}}))}),(0,xe.Z)().then(function(P){if(P.code===200){var f={};P.data.forEach(function(p){f[p.id]=p.name}),Ge(f)}}),(0,s.At)().then(function(P){if(P.code===200){var f={};P.data.forEach(function(p){f[p.id]=p.name}),Ve(f)}})},[]);var Ne=[{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.groupName",defaultMessage:"\u540D\u79F0"}),dataIndex:"name",valueType:"text",width:"15%"},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.queueNum",defaultMessage:"\u6700\u5927\u6392\u961F\u4EBA\u6570"}),dataIndex:"queueInout",valueType:"text",width:"10%"},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.queueOverHandle",defaultMessage:"\u6EA2\u51FA\u5904\u7406"}),dataIndex:"queueInoutHandle",valueType:"text",width:"10%",valueEnum:A},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.queueOverValue",defaultMessage:"\u6EA2\u51FA\u8F6C\u79FB"}),dataIndex:"queueInoutValue",valueType:"text",width:"10%",renderText:function(f,p,C){var L=p.queueInoutHandle;if(L=="1")return Pe[f];if(L=="2")return Ee[f]}},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.overTime",defaultMessage:"\u6700\u5927\u7B49\u5F85\u65F6\u95F4"}),dataIndex:"queueTimeOut",valueType:"text",width:"10%"},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.overTimeHandle",defaultMessage:"\u8D85\u65F6\u5904\u7406"}),dataIndex:"queueTimeoutHandle",valueType:"text",width:"10%",valueEnum:A},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.overTimeValue",defaultMessage:"\u8D85\u65F6\u8F6C\u79FB"}),dataIndex:"queueTimeoutValue",valueType:"text",width:"10%",renderText:function(f,p,C){var L=p.queueTimeoutHandle;if(L=="1")return Pe[f];if(L=="2")return Ee[f]}},{title:(0,t.jsx)(r.FormattedMessage,{id:"cc.group.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:ee,hideInSearch:!0,width:"10%"},{title:(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"15%",valueType:"option",render:function(f,p){return[(0,t.jsx)(h.Z,{type:"link",size:"small",hidden:!se.hasPerms("cc:group:edit"),onClick:function(){var L=function(){var b=E()(n()().mark(function U(X){var N;return n()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,s.xc)(X);case 2:N=k.sent,console.log("-----------------",N),ye(N.agentIds),Oe(N.users.map(function(z){return{value:z.userId,label:z.nickName}}));case 6:case"end":return k.stop()}},U)}));return function(X){return b.apply(this,arguments)}}();L(p.id),q(!0),Y(p)},children:(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.edit",defaultMessage:"\u7F16\u8F91"})},"edit"),(0,t.jsx)(h.Z,{type:"link",size:"small",danger:!0,hidden:!se.hasPerms("cc:group:remove"),onClick:E()(n()().mark(function C(){return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:F.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var U=E()(n()().mark(function N(){var Q;return n()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,Re(p);case 2:Q=z.sent,Q&&O.current&&O.current.reload();case 4:case"end":return z.stop()}},N)}));function X(){return U.apply(this,arguments)}return X}()});case 1:case"end":return b.stop()}},C)})),children:(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})},"batchRemove")]}}];return(0,t.jsxs)(d.Z,{children:[(0,t.jsx)("div",{style:{width:"100%",float:"right"},children:(0,t.jsx)(l.ZP,{headerTitle:He.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:O,formRef:a,rowKey:"greoupId",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(h.Z,{type:"primary",hidden:!se.hasPerms("cc:group:add"),onClick:E()(n()().mark(function f(){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:ye(void 0),Y(void 0),q(!0);case 3:case"end":return C.stop()}},f)})),children:[(0,t.jsx)(Z.Z,{})," ",(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,t.jsxs)(h.Z,{type:"primary",hidden:(R==null?void 0:R.length)===0||!se.hasPerms("cc:group:remove"),onClick:E()(n()().mark(function f(){var p,C,L;return n()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Me(R);case 2:p=U.sent,p&&(i([]),(C=O.current)===null||C===void 0||(L=C.reloadAndRest)===null||L===void 0||L.call(C));case 4:case"end":return U.stop()}},f)})),children:[(0,t.jsx)(x.Z,{}),(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove")]},request:function(f){return(0,s.hI)(T()({},f)).then(function(p){return{data:p.rows,total:p.total,success:!0}})},columns:Ne,rowSelection:{onChange:function(f,p){i(p)}}},"groupList")}),(R==null?void 0:R.length)>0&&(0,t.jsx)(v.Sc,{extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,t.jsx)("a",{style:{fontWeight:600},children:R.length}),(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,t.jsx)(h.Z,{hidden:!se.hasPerms("cc:group:remove"),onClick:E()(n()().mark(function P(){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:F.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var C=E()(n()().mark(function b(){var U,X,N,Q,k;return n()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return i([]),(U=O.current)===null||U===void 0||(X=U.reloadAndRest)===null||X===void 0||X.call(U),le.next=4,Me(R);case 4:N=le.sent,N&&(i([]),(Q=O.current)===null||Q===void 0||(k=Q.reloadAndRest)===null||k===void 0||k.call(Q));case 6:case"end":return le.stop()}},b)}));function L(){return C.apply(this,arguments)}return L}()});case 1:case"end":return p.stop()}},P)})),children:(0,t.jsx)(r.FormattedMessage,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,t.jsx)(Ze,{onSubmit:function(){var P=E()(n()().mark(function f(p){var C;return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(C=!1,!p.id){b.next=7;break}return b.next=4,Be(T()({},p));case 4:C=b.sent,b.next=10;break;case 7:return b.next=9,Ie(T()({},p));case 9:C=b.sent;case 10:C&&(q(!1),Y(void 0),O.current&&O.current.reload());case 11:case"end":return b.stop()}},f)}));return function(f){return P.apply(this,arguments)}}(),onCancel:function(){q(!1),Y(void 0)},visible:ne,values:oe||{},statusOptions:ee,agentStrategyOptions:ge,overFlowOptions:A,agents:Ke||[],agentIds:Ue||[],ivrOptions:Ee||[],queueOptions:Pe||[]})]})},Ae=be},71570:function(G,w,e){e.d(w,{At:function(){return E},BN:function(){return c},Rp:function(){return x},hI:function(){return T},mD:function(){return h},xc:function(){return v}});var y=e(17061),u=e.n(y),M=e(17156),n=e.n(M),_=e(58370);function T(d){return D.apply(this,arguments)}function D(){return D=n()(u()().mark(function d(l){var s;return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return s=new URLSearchParams(l).toString(),g.abrupt("return",(0,_.Z)("/api/cc/group/list?".concat(s),{data:l,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return g.stop()}},d)})),D.apply(this,arguments)}function E(){return(0,_.Z)("/api/cc/group/listAll",{method:"GET"})}function Z(d){return request("/api/cc/group/".concat(d),{method:"GET"})}function x(d){return m.apply(this,arguments)}function m(){return m=n()(u()().mark(function d(l){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.Z)("/api/cc/group",{method:"POST",data:l}));case 1:case"end":return o.stop()}},d)})),m.apply(this,arguments)}function h(d){return F.apply(this,arguments)}function F(){return F=n()(u()().mark(function d(l){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.Z)("/api/cc/group",{method:"PUT",data:l}));case 1:case"end":return o.stop()}},d)})),F.apply(this,arguments)}function c(d){return r.apply(this,arguments)}function r(){return r=n()(u()().mark(function d(l){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.Z)("/api/cc/group/".concat(l),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return o.stop()}},d)})),r.apply(this,arguments)}function v(d){return(0,_.Z)("/api/cc/group/groupAgents/".concat(d),{method:"GET"})}},44493:function(G,w,e){e.d(w,{Aj:function(){return c},Ik:function(){return h},SH:function(){return T},Z:function(){return E},wg:function(){return x}});var y=e(17061),u=e.n(y),M=e(17156),n=e.n(M),_=e(58370);function T(v){return D.apply(this,arguments)}function D(){return D=n()(u()().mark(function v(d){var l;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=new URLSearchParams(d).toString(),o.abrupt("return",(0,_.Z)("/api/cc/ivrFlow/list?".concat(l),{data:d,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return o.stop()}},v)})),D.apply(this,arguments)}function E(){return(0,_.Z)("/api/cc/ivrFlow/listAll",{method:"GET"})}function Z(v){return request("/api/cc/ivrFlow/".concat(v),{method:"GET"})}function x(v){return m.apply(this,arguments)}function m(){return m=n()(u()().mark(function v(d){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.Z)("/api/cc/ivrFlow",{method:"POST",data:d}));case 1:case"end":return s.stop()}},v)})),m.apply(this,arguments)}function h(v){return F.apply(this,arguments)}function F(){return F=n()(u()().mark(function v(d){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.Z)("/api/cc/ivrFlow",{method:"PUT",data:d}));case 1:case"end":return s.stop()}},v)})),F.apply(this,arguments)}function c(v){return r.apply(this,arguments)}function r(){return r=n()(u()().mark(function v(d){return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.Z)("/api/cc/ivrFlow/".concat(d),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},v)})),r.apply(this,arguments)}},33936:function(G,w,e){e.d(w,{Vd:function(){return Z},a7:function(){return F},jK:function(){return D},n2:function(){return d},oH:function(){return m},sF:function(){return r},zP:function(){return x}});var y=e(17061),u=e.n(y),M=e(17156),n=e.n(M),_=e(19676),T=e(58370);function D(l){return E.apply(this,arguments)}function E(){return E=n()(u()().mark(function l(s){var o;return u()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return o=new URLSearchParams(s).toString(),S.abrupt("return",(0,T.Z)("/api/system/dict/type/list?".concat(o),{data:s,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return S.stop()}},l)})),E.apply(this,arguments)}function Z(l){return(0,T.Z)("/api/system/dict/type/".concat(l),{method:"GET"})}function x(l){return(0,T.Z)("/api/system/dict/data/type/".concat(l),{method:"GET"})}function m(l){return h.apply(this,arguments)}function h(){return h=n()(u()().mark(function l(s){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,T.Z)("/api/system/dict/type",{method:"POST",data:s}));case 1:case"end":return g.stop()}},l)})),h.apply(this,arguments)}function F(l){return c.apply(this,arguments)}function c(){return c=n()(u()().mark(function l(s){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,T.Z)("/api/system/dict/type",{method:"PUT",data:s}));case 1:case"end":return g.stop()}},l)})),c.apply(this,arguments)}function r(l){return v.apply(this,arguments)}function v(){return v=n()(u()().mark(function l(s){return u()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,T.Z)("/api/system/dict/type/".concat(s),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return g.stop()}},l)})),v.apply(this,arguments)}function d(l){return(0,_.su)("/api/system/dict/type/export",{params:l},"dict_type_".concat(new Date().getTime(),".xlsx"))}},19676:function(G,w,e){e.d(w,{su:function(){return m}});var y=e(17061),u=e.n(y),M=e(42122),n=e.n(M),_=e(17156),T=e.n(_),D=e(58370),E={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function Z(F){request(F,{method:"GET",responseType:"blob",getResponse:!0}).then(function(c){x(c,E.zip)})}function x(F,c){var r=document.createElement("a"),v=new Blob([F.data],{type:c}),d=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),l=decodeURI(F.response.headers.get("content-disposition")),s=d.exec(l),o=s?s[1]:"file";o=o.replace(/"/g,""),r.style.display="none",r.href=URL.createObjectURL(v),r.setAttribute("download",o),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}function m(F,c,r){return h.apply(this,arguments)}function h(){return h=T()(u()().mark(function F(c,r,v){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,D.Z)(c,n()(n()({},r),{},{method:"POST",responseType:"blob"})).then(function(s){var o=document.createElement("a"),g=s;o.style.display="none",o.href=URL.createObjectURL(g),o.setAttribute("download",v),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}));case 1:case"end":return l.stop()}},F)})),h.apply(this,arguments)}}}]);
