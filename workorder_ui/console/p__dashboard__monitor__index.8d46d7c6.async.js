"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[533],{87154:function(ut,F,e){e.r(F),e.d(F,{default:function(){return ot}});var h=e(7277),g=e(71230),u=e(15746),c=e(91894),A=e(9459),H=e(35099),C=e(11231),W=e(81138),I=e(65337),E=e(88601),K=e(92077),S=e.n(K),U=e(17061),j=e.n(U),J=e(27424),O=e.n(J),X=e(17156),M=e.n(X),Q=e(56690),T=e.n(Q),V=e(89728),N=e.n(V),Y=e(66115),v=e.n(Y),b=e(61655),z=e.n(b),w=e(26389),$=e.n(w),q=e(38416),f=e.n(q),R=e(67294),p=e(33863),t=e(85893),k=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],_=function(o){z()(s,o);var l=$()(s);function s(){var n;T()(this,s);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=l.call.apply(l,[this].concat(a)),f()(v()(n),"state",{data:null,grid:null,loading:!1}),n}return N()(s,[{key:"componentDidMount",value:function(){var n=M()(j()().mark(function a(){var r,m,D,y;return j()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Promise.all([fetch("https://gw.alipayobjects.com/os/bmw-prod/c5dba875-b6ea-4e88-b778-66a862906c93.json").then(function(B){return B.json()}),fetch("https://gw.alipayobjects.com/os/bmw-prod/8990e8b4-c58e-419b-afb9-8ea3daff2dd1.json").then(function(B){return B.json()})]);case 2:r=x.sent,m=O()(r,2),D=m[0],y=m[1],this.setState({data:D,grid:y,loading:!0});case 7:case"end":return x.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"render",value:function(){var i=this.state,a=i.data,r=i.grid,m=i.loading;return m===!1?(0,t.jsx)(E.SX,{}):(0,t.jsxs)(p.JE,{map:{center:[110.19382669582967,50.258134],pitch:0,style:"blank",zoom:1},style:{position:"relative",width:"100%",height:"452px"},children:[r&&(0,t.jsx)(p.zP,{source:{data:r,transforms:[{type:"hexagon",size:8e5,field:"capacity",method:"sum"}]},color:{values:"#ddd"},shape:{values:"hexagon"},style:{coverage:.7,opacity:.8}},"1"),a&&[(0,t.jsx)(p.ns,{options:{autoFit:!0},source:{data:a},scale:{values:{color:{field:"cum_conf",type:"quantile"},size:{field:"cum_conf",type:"log"}}},color:{field:"cum_conf",values:k},shape:{values:"circle"},active:{option:{color:"#0c2c84"}},size:{field:"cum_conf",values:[0,30]},style:{opacity:.8}},"2"),(0,t.jsx)(p.ns,{source:{data:a},color:{values:"#fff"},shape:{field:"Short_Name_ZH",values:"text"},filter:{field:"cum_conf",values:function(y){return y>2e3}},size:{values:12},style:{opacity:1,strokeOpacity:1,strokeWidth:0}},"5")]]})}}]),s}(R.Component),tt=e(861),L=e.n(tt),et=e(64926),d={activeChart:"activeChart___tBBHH",activeChartGrid:"activeChartGrid___g4J8b",activeChartLegend:"activeChartLegend___nSKMh",dashedLine:"dashedLine___p9W5N",line:"line___mvdMI"};function at(o){return o*1<10?"0".concat(o):o}function P(){for(var o=[],l=0;l<24;l+=1)o.push({x:"".concat(at(l),":00"),y:Math.floor(Math.random()*200)+l*50});return o}var nt=function(o){z()(s,o);var l=$()(s);function s(){var n;T()(this,s);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=l.call.apply(l,[this].concat(a)),f()(v()(n),"state",{activeData:P()}),f()(v()(n),"timer",void 0),f()(v()(n),"requestRef",void 0),f()(v()(n),"loopData",function(){n.requestRef=requestAnimationFrame(function(){n.timer=window.setTimeout(function(){n.setState({activeData:P()},function(){n.loopData()})},1e3)})}),n}return N()(s,[{key:"componentDidMount",value:function(){this.loopData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.requestRef&&cancelAnimationFrame(this.requestRef)}},{key:"render",value:function(){var i=this.state.activeData,a=i===void 0?[]:i;return(0,t.jsxs)("div",{className:d.activeChart,children:[(0,t.jsx)(h.Z,{title:"\u76EE\u6807\u8BC4\u4F30",value:"\u6709\u671B\u8FBE\u5230\u9884\u671F"}),(0,t.jsx)("div",{style:{marginTop:32},children:(0,t.jsx)(et.Z,{data:a,xField:"x",forceFit:!0,yField:"y",height:84})}),a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:d.activeChartGrid,children:[(0,t.jsxs)("p",{children:[L()(a).sort()[a.length-1].y+200," \u4EBF\u5143"]}),(0,t.jsxs)("p",{children:[L()(a).sort()[Math.floor(a.length/2)].y," \u4EBF\u5143"]})]}),(0,t.jsx)("div",{className:d.dashedLine,children:(0,t.jsx)("div",{className:d.line})}),(0,t.jsx)("div",{className:d.dashedLine,children:(0,t.jsx)("div",{className:d.line})})]}),a&&(0,t.jsxs)("div",{className:d.activeChartLegend,children:[(0,t.jsx)("span",{children:"00:00"}),(0,t.jsx)("span",{children:a[Math.floor(a.length/2)].x}),(0,t.jsx)("span",{children:a[a.length-1].x})]})]})}}]),s}(R.Component);function st(){return Z.apply(this,arguments)}function Z(){return Z=M()(j()().mark(function o(){return j()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/tags"));case 1:case"end":return s.stop()}},o)})),Z.apply(this,arguments)}var G={mapChart:"mapChart___WUTKK",pieCard:"pieCard___xv_4_"},rt=h.Z.Countdown,it=Date.now()+1e3*60*60*24*2+1e3*30,lt=function(){var l=(0,A.useRequest)(st),s=l.loading,n=l.data,i=((n==null?void 0:n.list)||[]).map(function(a){return{id:+Date.now(),word:a.name,weight:a.value}});return(0,t.jsx)(E.fT,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.Z,{gutter:24,children:[(0,t.jsx)(u.Z,{xl:18,lg:24,md:24,sm:24,xs:24,style:{marginBottom:24},children:(0,t.jsxs)(c.Z,{title:"\u6D3B\u52A8\u5B9E\u65F6\u4EA4\u6613\u60C5\u51B5",bordered:!1,children:[(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(u.Z,{md:6,sm:12,xs:24,children:(0,t.jsx)(h.Z,{title:"\u4ECA\u65E5\u4EA4\u6613\u603B\u989D",suffix:"\u5143",value:S()(124543233).format("0,0")})}),(0,t.jsx)(u.Z,{md:6,sm:12,xs:24,children:(0,t.jsx)(h.Z,{title:"\u9500\u552E\u76EE\u6807\u5B8C\u6210\u7387",value:"92%"})}),(0,t.jsx)(u.Z,{md:6,sm:12,xs:24,children:(0,t.jsx)(rt,{title:"\u6D3B\u52A8\u5269\u4F59\u65F6\u95F4",value:it,format:"HH:mm:ss:SSS"})}),(0,t.jsx)(u.Z,{md:6,sm:12,xs:24,children:(0,t.jsx)(h.Z,{title:"\u6BCF\u79D2\u4EA4\u6613\u603B\u989D",suffix:"\u5143",value:S()(234).format("0,0")})})]}),(0,t.jsx)("div",{className:G.mapChart,children:(0,t.jsx)(_,{})})]})}),(0,t.jsxs)(u.Z,{xl:6,lg:24,md:24,sm:24,xs:24,children:[(0,t.jsx)(c.Z,{title:"\u6D3B\u52A8\u60C5\u51B5\u9884\u6D4B",style:{marginBottom:24},bordered:!1,children:(0,t.jsx)(nt,{})}),(0,t.jsx)(c.Z,{title:"\u5238\u6838\u6548\u7387",style:{marginBottom:24},bodyStyle:{textAlign:"center"},bordered:!1,children:(0,t.jsx)(H.Z,{height:180,min:0,max:100,forceFit:!0,value:87,range:[0,25,50,75,100],statistic:{visible:!0,text:"\u4F18",color:"#30bf78"}})})]})]}),(0,t.jsxs)(g.Z,{gutter:24,children:[(0,t.jsx)(u.Z,{xl:12,lg:24,sm:24,xs:24,style:{marginBottom:24},children:(0,t.jsx)(c.Z,{title:"\u5404\u54C1\u7C7B\u5360\u6BD4",bordered:!1,className:G.pieCard,children:(0,t.jsxs)(g.Z,{style:{padding:"16px 0"},children:[(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(C.Z,{forceFit:!0,height:128,percent:.28})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(C.Z,{color:"#5DDECF",forceFit:!0,height:128,percent:.22})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(C.Z,{color:"#2FC25B",forceFit:!0,height:128,percent:.32})})]})})}),(0,t.jsx)(u.Z,{xl:6,lg:12,sm:24,xs:24,style:{marginBottom:24},children:(0,t.jsx)(c.Z,{title:"\u70ED\u95E8\u641C\u7D22",loading:s,bordered:!1,bodyStyle:{overflow:"hidden"},children:(0,t.jsx)(W.Z,{data:i,forceFit:!0,height:162,wordStyle:{fontSize:[10,20]},shape:"triangle"})})}),(0,t.jsx)(u.Z,{xl:6,lg:12,sm:24,xs:24,style:{marginBottom:24},children:(0,t.jsx)(c.Z,{title:"\u8D44\u6E90\u5269\u4F59",bodyStyle:{textAlign:"center",fontSize:0},bordered:!1,children:(0,t.jsx)(I.Z,{height:161,min:0,max:1e4,value:5639,forceFit:!0,padding:[0,0,0,0],statistic:{formatter:function(r){return"".concat((100*r/1e4).toFixed(1),"%")}}})})})]})]})})},ot=lt}}]);
