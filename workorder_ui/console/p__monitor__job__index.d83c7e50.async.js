"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1606],{31199:function(ie,J,t){var _=t(1413),E=t(44925),T=t(85893),r=t(67294),R=t(99960),D=["fieldProps","min","proFieldProps","max"],o=function(S,w){var z=S.fieldProps,x=S.min,p=S.proFieldProps,F=S.max,u=(0,E.Z)(S,D);return(0,T.jsx)(R.Z,(0,_.Z)({valueType:"digit",fieldProps:(0,_.Z)({min:x,max:F},z),ref:w,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},u))};J.Z=r.forwardRef(o)},86615:function(ie,J,t){var _=t(6495),E=t(47933),T=t(1413),r=t(44925),R=t(85893),D=t(22270),o=t(67294),f=t(64893),S=t(99960),w=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],z=o.forwardRef(function(u,P){var k=u.fieldProps,i=u.options,n=u.radioType,C=u.layout,Z=u.proFieldProps,ae=u.valueEnum,ne=(0,r.Z)(u,w);return(0,R.jsx)(S.Z,(0,T.Z)((0,T.Z)({valueType:n==="button"?"radioButton":"radio",ref:P,valueEnum:(0,D.h)(ae,void 0)},ne),{},{fieldProps:(0,T.Z)({options:i,layout:C},k),proFieldProps:Z,filedConfig:{customLightMode:!0}}))}),x=o.forwardRef(function(u,P){var k=u.fieldProps,i=u.children;return(0,R.jsx)(E.ZP,(0,T.Z)((0,T.Z)({},k),{},{ref:P,children:i}))}),p=(0,f.G)(x,{valuePropName:"checked",ignoreWidth:!0}),F=p;F.Group=z,F.Button=E.ZP.Button,F.displayName="ProFormComponent",J.Z=F},90672:function(ie,J,t){var _=t(1413),E=t(44925),T=t(85893),r=t(67294),R=t(99960),D=["fieldProps","proFieldProps"],o=function(S,w){var z=S.fieldProps,x=S.proFieldProps,p=(0,E.Z)(S,D);return(0,T.jsx)(R.Z,(0,_.Z)({ref:w,valueType:"textarea",fieldProps:z,proFieldProps:x},p))};J.Z=r.forwardRef(o)},5966:function(ie,J,t){var _=t(1413),E=t(44925),T=t(85893),r=t(99960),R=["fieldProps","proFieldProps"],D=["fieldProps","proFieldProps"],o="text",f=function(x){var p=x.fieldProps,F=x.proFieldProps,u=(0,E.Z)(x,R);return(0,T.jsx)(r.Z,(0,_.Z)({valueType:o,fieldProps:p,filedConfig:{valueType:o},proFieldProps:F},u))},S=function(x){var p=x.fieldProps,F=x.proFieldProps,u=(0,E.Z)(x,D);return(0,T.jsx)(r.Z,(0,_.Z)({valueType:"password",fieldProps:p,proFieldProps:F,filedConfig:{valueType:o}},u))},w=f;w.Password=S,w.displayName="ProFormComponent",J.Z=w},68137:function(ie,J,t){var _=t(88601),E=t(85893),T=function(R){return(0,E.jsx)(_._z,{content:R.children})};J.Z=T},90634:function(ie,J,t){t.r(J),t.d(J,{default:function(){return Ue}});var _=t(27424),E=t.n(_),T=t(17061),r=t.n(T),R=t(42122),D=t.n(R),o=t(17156),f=t.n(o),S=t(57254),w=t(49101),z=t(57119),x=t(73171),p=t(13013),F=t(28682),u=t(48086),P=t(71577),k=t(50146),i=t(67294),n=t(9459),C=t(88601),Z=t(16894),ae=t(19676),ne=t(58370);function Ze(b){return he.apply(this,arguments)}function he(){return he=f()(r()().mark(function b(a){var c;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return c=new URLSearchParams(a).toString(),m.abrupt("return",(0,ne.Z)("/api/monitor/job/list?".concat(c),{data:a,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return m.stop()}},b)})),he.apply(this,arguments)}function Re(b){return request("/api/monitor/job/".concat(b),{method:"GET"})}function v(b){return l.apply(this,arguments)}function l(){return l=f()(r()().mark(function b(a){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ne.Z)("/api/monitor/job",{method:"POST",data:a}));case 1:case"end":return d.stop()}},b)})),l.apply(this,arguments)}function h(b){return j.apply(this,arguments)}function j(){return j=f()(r()().mark(function b(a){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ne.Z)("/api/monitor/job",{method:"PUT",data:a}));case 1:case"end":return d.stop()}},b)})),j.apply(this,arguments)}function U(b){return B.apply(this,arguments)}function B(){return B=f()(r()().mark(function b(a){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ne.Z)("/api/monitor/job/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return d.stop()}},b)})),B.apply(this,arguments)}function O(b){return(0,ae.su)("/api/monitor/job/export",{params:b},"job_".concat(new Date().getTime(),".xlsx"))}function Q(b,a){return X.apply(this,arguments)}function X(){return X=f()(r()().mark(function b(a,c){var d;return r()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return d={jobId:a,jobGroup:c},W.abrupt("return",(0,ne.Z)("/api/monitor/job/run",{method:"PUT",data:d}));case 2:case"end":return W.stop()}},b)})),X.apply(this,arguments)}var te=t(31199),I=t(5966),Y=t(90672),ce=t(86615),re=t(71257),y=t(71230),H=t(15746),e=t(85893),me=function(a){var c=re.Z.useForm(),d=E()(c,1),m=d[0],W=a.statusOptions;(0,i.useEffect)(function(){m.resetFields(),m.setFieldsValue({jobId:a.values.jobId,jobName:a.values.jobName,jobGroup:a.values.jobGroup,invokeTarget:a.values.invokeTarget,cronExpression:a.values.cronExpression,misfirePolicy:a.values.misfirePolicy,concurrent:a.values.concurrent,status:a.values.status,createBy:a.values.createBy,createTime:a.values.createTime,updateBy:a.values.updateBy,updateTime:a.values.updateTime,remark:a.values.remark})},[m,a]);var s=(0,n.useIntl)(),A=function(){m.submit()},Te=function(){a.onCancel(),m.resetFields()},ye=function(De){a.onSubmit(De)};return(0,e.jsx)(k.Z,{width:640,title:s.formatMessage({id:"monitor.Job.modify",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),visible:a.visible,destroyOnClose:!0,onOk:A,onCancel:Te,children:(0,e.jsxs)(re.Z,{form:m,onFinish:ye,initialValues:a.values,children:[(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(te.Z,{name:"jobId",label:s.formatMessage({id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID",disabled:!0,hidden:!a.values.jobId,rules:[{required:!1,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1ID\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(I.Z,{name:"jobName",label:s.formatMessage({id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(I.Z,{name:"jobGroup",label:s.formatMessage({id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(Y.Z,{name:"invokeTarget",label:s.formatMessage({id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(I.Z,{name:"cronExpression",label:s.formatMessage({id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F",rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(I.Z,{name:"misfirePolicy",label:s.formatMessage({id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",rules:[{required:!1,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(I.Z,{name:"concurrent",label:s.formatMessage({id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),width:"xl",placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",rules:[{required:!1,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}]})})}),(0,e.jsx)(y.Z,{gutter:[16,16],children:(0,e.jsx)(H.Z,{span:24,order:1,children:(0,e.jsx)(ce.Z.Group,{valueEnum:W,name:"status",label:s.formatMessage({id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),width:"xl",labelCol:{span:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,e.jsx)(n.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})})})]})})},pe=me,N=t(4914),V=function(a){var c=a.values,d=a.statusOptions;(0,i.useEffect)(function(){},[a]);var m=(0,n.useIntl)(),W={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},s=function(){a.onCancel()};return(0,e.jsx)(k.Z,{width:800,title:m.formatMessage({id:"monitor.Operlog.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),visible:a.visible,destroyOnClose:!0,onCancel:s,footer:[(0,e.jsx)(P.Z,{onClick:s,children:"\u5173\u95ED"},"back")],children:(0,e.jsxs)(N.Z,{column:24,children:[(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:c.jobId}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:c.jobName}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:c.jobGroup}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:c.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:W[c.misfirePolicy?c.misfirePolicy:"0"]}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:c.createTime}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),children:d[c.status?c.status:0]}),(0,e.jsx)(N.Z.Item,{span:12,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:c.nextValidTime}),(0,e.jsx)(N.Z.Item,{span:24,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:c.cronExpression}),(0,e.jsx)(N.Z.Item,{span:24,label:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:c.invokeTarget})]})})},Ee=V,de=t(33936),Fe=t(68137),be=function(){var b=f()(r()().mark(function a(c){var d,m;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return d=u.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),s.prev=1,s.next=4,v(D()({},c));case 4:return m=s.sent,d(),m.code===200?u.ZP.success("\u6DFB\u52A0\u6210\u529F"):u.ZP.error(m.msg),s.abrupt("return",!0);case 10:return s.prev=10,s.t0=s.catch(1),d(),u.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},a,null,[[1,10]])}));return function(c){return b.apply(this,arguments)}}(),fe=function(){var b=f()(r()().mark(function a(c){var d,m;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return d=u.ZP.loading("\u6B63\u5728\u914D\u7F6E"),s.prev=1,s.next=4,h(c);case 4:return m=s.sent,d(),m.code===200?u.ZP.success("\u914D\u7F6E\u6210\u529F"):u.ZP.error(m.msg),s.abrupt("return",!0);case 10:return s.prev=10,s.t0=s.catch(1),d(),u.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),s.abrupt("return",!1);case 15:case"end":return s.stop()}},a,null,[[1,10]])}));return function(c){return b.apply(this,arguments)}}(),Ce=function(){var b=f()(r()().mark(function a(c){var d,m;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(d=u.ZP.loading("\u6B63\u5728\u5220\u9664"),c){s.next=3;break}return s.abrupt("return",!0);case 3:return s.prev=3,s.next=6,U(c.map(function(A){return A.jobId}).join(","));case 6:return m=s.sent,d(),m.code===200?u.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.ZP.error(m.msg),s.abrupt("return",!0);case 12:return s.prev=12,s.t0=s.catch(3),d(),u.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),s.abrupt("return",!1);case 17:case"end":return s.stop()}},a,null,[[3,12]])}));return function(c){return b.apply(this,arguments)}}(),_e=function(){var b=f()(r()().mark(function a(c){var d,m,W;return r()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(d=u.ZP.loading("\u6B63\u5728\u5220\u9664"),c){A.next=3;break}return A.abrupt("return",!0);case 3:return A.prev=3,m=[c.jobId],A.next=7,U(m.join(","));case 7:return W=A.sent,d(),W.code===200?u.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):u.ZP.error(W.msg),A.abrupt("return",!0);case 13:return A.prev=13,A.t0=A.catch(3),d(),u.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),A.abrupt("return",!1);case 18:case"end":return A.stop()}},a,null,[[3,13]])}));return function(c){return b.apply(this,arguments)}}(),Pe=function(){var b=f()(r()().mark(function a(){var c;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return c=u.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),m.prev=1,m.next=4,O();case 4:return c(),u.ZP.success("\u5BFC\u51FA\u6210\u529F"),m.abrupt("return",!0);case 9:return m.prev=9,m.t0=m.catch(1),c(),u.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),m.abrupt("return",!1);case 14:case"end":return m.stop()}},a,null,[[1,9]])}));return function(){return b.apply(this,arguments)}}(),ge=function(){var a=(0,i.useRef)(),c=(0,i.useState)(!1),d=E()(c,2),m=d[0],W=d[1],s=(0,i.useState)(!1),A=E()(s,2),Te=A[0],ye=A[1],se=(0,i.useRef)(),De=(0,i.useState)(),we=E()(De,2),Ie=we[0],ve=we[1],We=(0,i.useState)([]),Ae=E()(We,2),ue=Ae[0],Be=Ae[1],ke=(0,i.useState)([]),Le=E()(ke,2),Oe=Le[0],$e=Le[1],Je=(0,i.useState)([]),Se=E()(Je,2),Ke=Se[0],Ne=Se[1],je=(0,n.useAccess)(),Ge=(0,n.useIntl)();(0,i.useEffect)(function(){(0,de.zP)("sys_normal_disable").then(function(G){if(G.code===200){var L={};G.data.forEach(function(g){L[g.dictValue]=g.dictLabel}),$e(L)}}),(0,de.zP)("sys_job_group").then(function(G){if(G.code===200){var L={};G.data.forEach(function(g){L[g.dictValue]=g.dictLabel}),Ne(L)}})},[]);var ze=[{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_id",defaultMessage:"\u4EFB\u52A1ID"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(L,g){return(0,e.jsx)("a",{onClick:function(){ye(!0),ve(g)},children:L})}},{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:Ke},{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea",hideInSearch:!0},{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text",hideInSearch:!0},{title:(0,e.jsx)(n.FormattedMessage,{id:"monitor.Job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:Oe},{title:(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(L,g){return[(0,e.jsx)(P.Z,{type:"link",size:"small",hidden:!je.hasPerms("monitor:job:edit"),onClick:function(){W(!0),ve(g)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(P.Z,{type:"link",size:"small",danger:!0,hidden:!je.hasPerms("monitor:job:remove"),onClick:f()(r()().mark(function M(){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:k.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var le=f()(r()().mark(function ee(){var Me;return r()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,_e(g);case 2:Me=xe.sent,Me&&se.current&&se.current.reload();case 4:case"end":return xe.stop()}},ee)}));function q(){return le.apply(this,arguments)}return q}()});case 1:case"end":return $.stop()}},M)})),children:"\u5220\u9664"},"batchRemove"),(0,e.jsx)(p.Z,{overlay:function(){return(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(F.Z.Item,{children:(0,e.jsx)(P.Z,{type:"link",size:"small",onClick:function(){k.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var $=f()(r()().mark(function q(){var ee;return r()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Q(g.jobId,g.jobGroup);case 2:ee=K.sent,ee&&u.ZP.success("\u6267\u884C\u6210\u529F");case 4:case"end":return K.stop()}},q)}));function le(){return $.apply(this,arguments)}return le}()})},children:"\u6267\u884C\u4E00\u6B21"},"runOnce")},"0"),(0,e.jsx)(F.Z.Item,{children:(0,e.jsx)(P.Z,{type:"link",size:"small",onClick:function(){ye(!0),ve(g)},children:"\u4EFB\u52A1\u8BE6\u60C5"},"runOnce")},"1"),(0,e.jsx)(F.Z.Item,{children:(0,e.jsx)(P.Z,{type:"link",size:"small",onClick:function(){n.history.push("/monitor/job-log/index?jobId=".concat(g.jobId))},children:"\u8C03\u5EA6\u65E5\u5FD7"},"history")},"2")]})},children:(0,e.jsxs)("a",{className:"ant-dropdown-link",onClick:function(oe){return oe.preventDefault()},children:["\u66F4\u591A",(0,e.jsx)(S.Z,{})]})},"toolbar")]}}];return(0,e.jsxs)(Fe.Z,{children:[(0,e.jsx)("div",{style:{width:"100%",float:"right"},children:(0,e.jsx)(Z.ZP,{headerTitle:Ge.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:se,formRef:a,rowKey:"jobId",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(P.Z,{type:"primary",hidden:!je.hasPerms("monitor:job:add"),onClick:f()(r()().mark(function L(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:ve(void 0),W(!0);case 2:case"end":return M.stop()}},L)})),children:[(0,e.jsx)(w.Z,{})," ",(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,e.jsxs)(P.Z,{type:"primary",hidden:(ue==null?void 0:ue.length)===0||!je.hasPerms("monitor:job:remove"),onClick:f()(r()().mark(function L(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:k.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,e.jsx)(z.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return f()(r()().mark(function $(){var le,q,ee;return r()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Ce(ue);case 2:le=K.sent,le&&(Be([]),(q=se.current)===null||q===void 0||(ee=q.reloadAndRest)===null||ee===void 0||ee.call(q));case 4:case"end":return K.stop()}},$)}))()}});case 1:case"end":return M.stop()}},L)})),children:[(0,e.jsx)(x.Z,{}),(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,e.jsxs)(P.Z,{type:"primary",hidden:!je.hasPerms("monitor:job:export"),onClick:f()(r()().mark(function L(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:Pe();case 1:case"end":return M.stop()}},L)})),children:[(0,e.jsx)(w.Z,{}),(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(L){return Ze(D()({},L)).then(function(g){var M={data:g.rows,total:g.total,success:!0};return M})},columns:ze,rowSelection:{onChange:function(L,g){Be(g)}}},"jobList")}),(ue==null?void 0:ue.length)>0&&(0,e.jsx)(C.Sc,{extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,e.jsx)("a",{style:{fontWeight:600},children:ue.length}),(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,e.jsx)(P.Z,{hidden:!je.hasPerms("monitor:job:remove"),onClick:f()(r()().mark(function G(){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:k.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var M=f()(r()().mark(function $(){var le,q,ee;return r()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Ce(ue);case 2:le=K.sent,le&&(Be([]),(q=se.current)===null||q===void 0||(ee=q.reloadAndRest)===null||ee===void 0||ee.call(q));case 4:case"end":return K.stop()}},$)}));function oe(){return M.apply(this,arguments)}return oe}()});case 1:case"end":return g.stop()}},G)})),children:(0,e.jsx)(n.FormattedMessage,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,e.jsx)(pe,{onSubmit:function(){var G=f()(r()().mark(function L(g){var M;return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(M=!1,!g.jobId){$.next=7;break}return $.next=4,fe(D()({},g));case 4:M=$.sent,$.next=10;break;case 7:return $.next=9,be(D()({},g));case 9:M=$.sent;case 10:M&&(W(!1),ve(void 0),se.current&&se.current.reload());case 11:case"end":return $.stop()}},L)}));return function(L){return G.apply(this,arguments)}}(),onCancel:function(){W(!1),ve(void 0)},visible:m,values:Ie||{},statusOptions:Oe}),(0,e.jsx)(Ee,{onCancel:function(){ye(!1),ve(void 0)},visible:Te,values:Ie||{},statusOptions:Oe})]})},Ue=ge},33936:function(ie,J,t){t.d(J,{Vd:function(){return S},a7:function(){return p},jK:function(){return o},n2:function(){return k},oH:function(){return z},sF:function(){return u},zP:function(){return w}});var _=t(17061),E=t.n(_),T=t(17156),r=t.n(T),R=t(19676),D=t(58370);function o(i){return f.apply(this,arguments)}function f(){return f=r()(E()().mark(function i(n){var C;return E()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return C=new URLSearchParams(n).toString(),ae.abrupt("return",(0,D.Z)("/api/system/dict/type/list?".concat(C),{data:n,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return ae.stop()}},i)})),f.apply(this,arguments)}function S(i){return(0,D.Z)("/api/system/dict/type/".concat(i),{method:"GET"})}function w(i){return(0,D.Z)("/api/system/dict/data/type/".concat(i),{method:"GET"})}function z(i){return x.apply(this,arguments)}function x(){return x=r()(E()().mark(function i(n){return E()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,D.Z)("/api/system/dict/type",{method:"POST",data:n}));case 1:case"end":return Z.stop()}},i)})),x.apply(this,arguments)}function p(i){return F.apply(this,arguments)}function F(){return F=r()(E()().mark(function i(n){return E()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,D.Z)("/api/system/dict/type",{method:"PUT",data:n}));case 1:case"end":return Z.stop()}},i)})),F.apply(this,arguments)}function u(i){return P.apply(this,arguments)}function P(){return P=r()(E()().mark(function i(n){return E()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,D.Z)("/api/system/dict/type/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return Z.stop()}},i)})),P.apply(this,arguments)}function k(i){return(0,R.su)("/api/system/dict/type/export",{params:i},"dict_type_".concat(new Date().getTime(),".xlsx"))}},19676:function(ie,J,t){t.d(J,{su:function(){return z}});var _=t(17061),E=t.n(_),T=t(42122),r=t.n(T),R=t(17156),D=t.n(R),o=t(58370),f={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};function S(p){request(p,{method:"GET",responseType:"blob",getResponse:!0}).then(function(F){w(F,f.zip)})}function w(p,F){var u=document.createElement("a"),P=new Blob([p.data],{type:F}),k=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),i=decodeURI(p.response.headers.get("content-disposition")),n=k.exec(i),C=n?n[1]:"file";C=C.replace(/"/g,""),u.style.display="none",u.href=URL.createObjectURL(P),u.setAttribute("download",C),document.body.appendChild(u),u.click(),URL.revokeObjectURL(u.href),document.body.removeChild(u)}function z(p,F,u){return x.apply(this,arguments)}function x(){return x=D()(E()().mark(function p(F,u,P){return E()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.Z)(F,r()(r()({},u),{},{method:"POST",responseType:"blob"})).then(function(n){var C=document.createElement("a"),Z=n;C.style.display="none",C.href=URL.createObjectURL(Z),C.setAttribute("download",P),document.body.appendChild(C),C.click(),URL.revokeObjectURL(C.href),document.body.removeChild(C)}));case 1:case"end":return i.stop()}},p)})),x.apply(this,arguments)}},4914:function(ie,J,t){t.d(J,{K:function(){return C},Z:function(){return Re}});var _=t(4942),E=t(29439),T=t(71002),r=t(94184),R=t.n(r),D=t(50344),o=t(67294),f=t(53124),S=t(96159),w=t(24308),z=function(l){var h=l.children;return h},x=z,p=t(87462);function F(v){return v!=null}var u=function(l){var h=l.itemPrefixCls,j=l.component,U=l.span,B=l.className,O=l.style,Q=l.labelStyle,X=l.contentStyle,te=l.bordered,I=l.label,Y=l.content,ce=l.colon,re=j;if(te){var y;return o.createElement(re,{className:R()((y={},(0,_.Z)(y,"".concat(h,"-item-label"),F(I)),(0,_.Z)(y,"".concat(h,"-item-content"),F(Y)),y),B),style:O,colSpan:U},F(I)&&o.createElement("span",{style:Q},I),F(Y)&&o.createElement("span",{style:X},Y))}return o.createElement(re,{className:R()("".concat(h,"-item"),B),style:O,colSpan:U},o.createElement("div",{className:"".concat(h,"-item-container")},(I||I===0)&&o.createElement("span",{className:R()("".concat(h,"-item-label"),(0,_.Z)({},"".concat(h,"-item-no-colon"),!ce)),style:Q},I),(Y||Y===0)&&o.createElement("span",{className:R()("".concat(h,"-item-content")),style:X},Y)))},P=u;function k(v,l,h){var j=l.colon,U=l.prefixCls,B=l.bordered,O=h.component,Q=h.type,X=h.showLabel,te=h.showContent,I=h.labelStyle,Y=h.contentStyle;return v.map(function(ce,re){var y=ce.props,H=y.label,e=y.children,me=y.prefixCls,pe=me===void 0?U:me,N=y.className,V=y.style,Ee=y.labelStyle,de=y.contentStyle,Fe=y.span,be=Fe===void 0?1:Fe,fe=ce.key;return typeof O=="string"?o.createElement(P,{key:"".concat(Q,"-").concat(fe||re),className:N,style:V,labelStyle:(0,p.Z)((0,p.Z)({},I),Ee),contentStyle:(0,p.Z)((0,p.Z)({},Y),de),span:be,colon:j,component:O,itemPrefixCls:pe,bordered:B,label:X?H:null,content:te?e:null}):[o.createElement(P,{key:"label-".concat(fe||re),className:N,style:(0,p.Z)((0,p.Z)((0,p.Z)({},I),V),Ee),span:1,colon:j,component:O[0],itemPrefixCls:pe,bordered:B,label:H}),o.createElement(P,{key:"content-".concat(fe||re),className:N,style:(0,p.Z)((0,p.Z)((0,p.Z)({},Y),V),de),span:be*2-1,component:O[1],itemPrefixCls:pe,bordered:B,content:e})]})}var i=function(l){var h=o.useContext(C),j=l.prefixCls,U=l.vertical,B=l.row,O=l.index,Q=l.bordered;return U?o.createElement(o.Fragment,null,o.createElement("tr",{key:"label-".concat(O),className:"".concat(j,"-row")},k(B,l,(0,p.Z)({component:"th",type:"label",showLabel:!0},h))),o.createElement("tr",{key:"content-".concat(O),className:"".concat(j,"-row")},k(B,l,(0,p.Z)({component:"td",type:"content",showContent:!0},h)))):o.createElement("tr",{key:O,className:"".concat(j,"-row")},k(B,l,(0,p.Z)({component:Q?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},h)))},n=i,C=o.createContext({}),Z={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function ae(v,l){if(typeof v=="number")return v;if((0,T.Z)(v)==="object")for(var h=0;h<w.c4.length;h++){var j=w.c4[h];if(l[j]&&v[j]!==void 0)return v[j]||Z[j]}return 3}function ne(v,l,h){var j=v;return(l===void 0||l>h)&&(j=(0,S.Tm)(v,{span:h})),j}function Ze(v,l){var h=(0,D.Z)(v).filter(function(O){return O}),j=[],U=[],B=l;return h.forEach(function(O,Q){var X,te=(X=O.props)===null||X===void 0?void 0:X.span,I=te||1;if(Q===h.length-1){U.push(ne(O,te,B)),j.push(U);return}I<B?(B-=I,U.push(O)):(U.push(ne(O,I,B)),j.push(U),B=l,U=[])}),j}function he(v){var l,h=v.prefixCls,j=v.title,U=v.extra,B=v.column,O=B===void 0?Z:B,Q=v.colon,X=Q===void 0?!0:Q,te=v.bordered,I=v.layout,Y=v.children,ce=v.className,re=v.style,y=v.size,H=v.labelStyle,e=v.contentStyle,me=o.useContext(f.E_),pe=me.getPrefixCls,N=me.direction,V=pe("descriptions",h),Ee=o.useState({}),de=(0,E.Z)(Ee,2),Fe=de[0],be=de[1],fe=ae(O,Fe);o.useEffect(function(){var Pe=w.ZP.subscribe(function(ge){(0,T.Z)(O)==="object"&&be(ge)});return function(){w.ZP.unsubscribe(Pe)}},[]);var Ce=Ze(Y,fe),_e=o.useMemo(function(){return{labelStyle:H,contentStyle:e}},[H,e]);return o.createElement(C.Provider,{value:_e},o.createElement("div",{className:R()(V,(l={},(0,_.Z)(l,"".concat(V,"-").concat(y),y&&y!=="default"),(0,_.Z)(l,"".concat(V,"-bordered"),!!te),(0,_.Z)(l,"".concat(V,"-rtl"),N==="rtl"),l),ce),style:re},(j||U)&&o.createElement("div",{className:"".concat(V,"-header")},j&&o.createElement("div",{className:"".concat(V,"-title")},j),U&&o.createElement("div",{className:"".concat(V,"-extra")},U)),o.createElement("div",{className:"".concat(V,"-view")},o.createElement("table",null,o.createElement("tbody",null,Ce.map(function(Pe,ge){return o.createElement(n,{key:ge,index:ge,colon:X,prefixCls:V,vertical:I==="vertical",bordered:te,row:Pe})}))))))}he.Item=x;var Re=he}}]);
