"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7232],{42489:function(ue,Pr,e){e.d(Pr,{I:function(){return Qr}});var Ur=e(71892),nr=e(11382),T=e(29439),p=e(4942),n=e(1413),J=e(74165),D=e(15861),Nr=e(207),pr=e(99543),Dr=e(82621),Y=e(71257),fr=e(44925),R=e(85893),Cr=e(78775),a=e(67294),sr=e(8100),P=0;function xr(r){var t=(0,a.useState)(function(){return r.proFieldKey?r.proFieldKey.toString():(P+=1,P.toString())}),h=(0,T.Z)(t,1),s=h[0],U=(0,a.useRef)(s),C=function(){var i=(0,D.Z)((0,J.Z)().mark(function A(){var o,Z;return(0,J.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(o=r.request)===null||o===void 0?void 0:o.call(r,r.params,r);case 2:return Z=f.sent,f.abrupt("return",Z);case 4:case"end":return f.stop()}},A)}));return function(){return i.apply(this,arguments)}}();(0,a.useEffect)(function(){return function(){P+=1}},[]);var V=(0,sr.ZP)([U.current,r.params],C,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),d=V.data,l=V.error;return[d||l]}var lr=xr,vr=e(93433),O=e(71002),Q=e(88306),g=e(8880),B=e(74763),or=e(92210);function K(r){return(0,O.Z)(r)!=="object"?!1:r===null?!0:!(a.isValidElement(r)||r.constructor===RegExp||r instanceof Map||r instanceof Set||r instanceof HTMLElement||r instanceof Blob||r instanceof File||Array.isArray(r))}var ur=function(t,h){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,U=Object.keys(h).reduce(function(d,l){var i=h[l];return(0,B.Z)(i)||(d[l]=i),d},{});if(Object.keys(U).length<1||typeof window>"u"||(0,O.Z)(t)!=="object"||(0,B.Z)(t)||t instanceof Blob)return t;var C=Array.isArray(t)?[]:{},V=function d(l,i){var A=Array.isArray(l),o=A?[]:{};return l==null||l===void 0?o:(Object.keys(l).forEach(function(Z){var b=i?[i,Z].flat(1):[Z].flat(1),f=l[Z],I=(0,Q.Z)(U,b),w=function u(F){return Array.isArray(F)&&F.forEach(function(x,S){!x||(typeof x=="function"&&(f[S]=x(f,Z,l)),(0,O.Z)(x)==="object"&&!Array.isArray(x)&&Object.keys(x).forEach(function(G){if(typeof x[G]=="function"){var mr=x[G](l[Z][S][G],Z,l);f[S][G]=(0,O.Z)(mr)==="object"?mr[G]:mr}}),(0,O.Z)(x)==="object"&&Array.isArray(x)&&u(x))}),Z},W=function(){var F=typeof I=="function"?I==null?void 0:I(f,Z,l):w(I);if(Array.isArray(F)){o=(0,g.Z)(o,F,f);return}(0,O.Z)(F)==="object"&&!Array.isArray(C)?C=(0,n.Z)((0,n.Z)({},C),F):(0,O.Z)(F)==="object"&&Array.isArray(C)?o=(0,n.Z)((0,n.Z)({},o),F):F&&(o=(0,g.Z)(o,[F],f))};if(I&&typeof I=="function"&&W(),!(typeof window>"u")){if(K(f)){var z=d(f,b);if(Object.keys(z).length<1)return;o=(0,g.Z)(o,[Z],z);return}W()}}),s?o:l)};return C=Array.isArray(t)&&Array.isArray(C)?(0,vr.Z)(V(t)):(0,or.T)({},V(t),C),C},j=ur,Br=e(22270),Rr=e(48171),_r=e(26369),re=e(60249),ee=e(41036),Lr=e(56725),jr=e(75661),Kr=e(23312),Or=e(45095),cr=e(97435),Ir=e(80334),te=e(92253),Wr=e(19650),de=e(3169),Tr=e(71577),X=function(t){var h=(0,Cr.YB)(),s=Y.Z.useFormInstance();if(t.render===!1)return null;var U=t.onSubmit,C=t.render,V=t.onReset,d=t.searchConfig,l=d===void 0?{}:d,i=t.submitButtonProps,A=t.resetButtonProps,o=A===void 0?{}:A,Z=function(){s.submit(),U==null||U()},b=function(){s.resetFields(),V==null||V()},f=l.submitText,I=f===void 0?h.getMessage("tableForm.submit","\u63D0\u4EA4"):f,w=l.resetText,W=w===void 0?h.getMessage("tableForm.reset","\u91CD\u7F6E"):w,z=[];o!==!1&&z.push((0,a.createElement)(Tr.Z,(0,n.Z)((0,n.Z)({},(0,cr.Z)(o,["preventDefault"])),{},{key:"rest",onClick:function(x){var S;o!=null&&o.preventDefault||b(),o==null||(S=o.onClick)===null||S===void 0||S.call(o,x)}}),W)),i!==!1&&z.push((0,a.createElement)(Tr.Z,(0,n.Z)((0,n.Z)({type:"primary"},(0,cr.Z)(i||{},["preventDefault"])),{},{key:"submit",onClick:function(x){var S;i!=null&&i.preventDefault||Z(),i==null||(S=i.onClick)===null||S===void 0||S.call(i,x)}}),I));var u=C?C((0,n.Z)((0,n.Z)({},t),{},{form:s,submit:Z,reset:b}),z):z;return u?Array.isArray(u)?(u==null?void 0:u.length)<1?null:(u==null?void 0:u.length)===1?u[0]:(0,R.jsx)(Wr.Z,{wrap:!0,children:u}):u:null},Ar=X,Sr=e(66758),zr=e(2514),Gr=e(9105),Vr=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],ne=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly"],br=function(t,h,s){return t===!0?h:(0,Br.h)(t,h,s)},Hr=function(t){return!t||Array.isArray(t)?t:[t]};function Jr(r){var t=r.children,h=r.contentRender,s=r.submitter,U=r.fieldProps,C=r.formItemProps,V=r.groupProps,d=r.transformKey,l=r.formRef,i=r.onInit,A=r.form,o=r.loading,Z=r.formComponentType,b=r.extraUrlParams,f=b===void 0?{}:b,I=r.syncToUrl,w=r.onUrlSearchChange,W=r.onReset,z=r.omitNil,u=z===void 0?!0:z,F=r.isKeyPressSubmit,x=r.autoFocusFirstInput,S=x===void 0?!0:x,G=r.grid,mr=r.rowProps,Xr=r.colProps,yr=(0,fr.Z)(r,Vr),gr=Y.Z.useFormInstance(),oe=(0,a.useContext)(pr.ZP.SizeContext),k=(0,a.useRef)(A||gr),wr=(0,zr.zx)({grid:G,rowProps:mr}),kr=wr.RowWrapper,$r=(0,Rr.J)(function(){return gr}),H=(0,a.useMemo)(function(){return{getFieldsFormatValue:function(m){var y;return d((y=$r())===null||y===void 0?void 0:y.getFieldsValue(m),u)},getFieldFormatValue:function(){var m,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=Hr(y);if(!c)throw new Error("nameList is require");var $=(m=$r())===null||m===void 0?void 0:m.getFieldValue(c),q=c?(0,g.Z)({},c,$):$;return(0,Q.Z)(d(q,u,c),c)},getFieldFormatValueObject:function(m){var y,c=Hr(m),$=(y=$r())===null||y===void 0?void 0:y.getFieldValue(c),q=c?(0,g.Z)({},c,$):$;return d(q,u,c)},validateFieldsReturnFormatValue:function(){var v=(0,D.Z)((0,J.Z)().mark(function y(c){var $,q,dr;return(0,J.Z)().wrap(function(tr){for(;;)switch(tr.prev=tr.next){case 0:if(!(!Array.isArray(c)&&c)){tr.next=2;break}throw new Error("nameList must be array");case 2:return tr.next=4,($=$r())===null||$===void 0?void 0:$.validateFields(c);case 4:return q=tr.sent,dr=d(q,u),tr.abrupt("return",dr||{});case 7:case"end":return tr.stop()}},y)}));function m(y){return v.apply(this,arguments)}return m}(),formRef:k}},[u,d]),N=(0,a.useMemo)(function(){return a.Children.toArray(t).map(function(v,m){return m===0&&a.isValidElement(v)&&S?a.cloneElement(v,(0,n.Z)((0,n.Z)({},v.props),{},{autoFocus:S})):v})},[S,t]),rr=(0,a.useMemo)(function(){return typeof s=="boolean"||!s?{}:s},[s]);(0,a.useImperativeHandle)(l,function(){return(0,n.Z)((0,n.Z)({},gr),H)},[H,gr]);var Mr=(0,a.useMemo)(function(){if(s!==!1)return(0,R.jsx)(Ar,(0,n.Z)((0,n.Z)({},rr),{},{onReset:function(){var m,y,c=d((m=k.current)===null||m===void 0?void 0:m.getFieldsValue(),u);if(rr==null||(y=rr.onReset)===null||y===void 0||y.call(rr,c),W==null||W(c),I){var $,q=Object.keys(d(($=k.current)===null||$===void 0?void 0:$.getFieldsValue(),!1)).reduce(function(dr,er){return(0,n.Z)((0,n.Z)({},dr),{},(0,p.Z)({},er,c[er]||void 0))},f);w(br(I,q,"set"))}},submitButtonProps:(0,n.Z)({loading:o},rr.submitButtonProps)}),"submitter")},[s,rr,o,d,u,W,I,f,w]),qr=(0,a.useMemo)(function(){var v=G?(0,R.jsx)(kr,{children:N}):N;return h?h(v,Mr,k.current):v},[G,kr,N,h,Mr]),hr=(0,_r.Z)(r.initialValues);return(0,a.useEffect)(function(){if(!(I||!r.initialValues||!hr||yr.request)){var v=(0,re.Z)(r.initialValues,hr);(0,Ir.ET)(v,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),(0,Ir.ET)(v,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[r.initialValues]),(0,a.useEffect)(function(){var v,m,y=d((v=k.current)===null||v===void 0||(m=v.getFieldsValue)===null||m===void 0?void 0:m.call(v,!0),u);i==null||i(y,k.current)},[]),(0,R.jsx)(ee.Z.Provider,{value:H,children:(0,R.jsx)(pr.ZP.SizeContext.Provider,{value:yr.size||oe,children:(0,R.jsxs)(zr._p.Provider,{value:{grid:G,colProps:Xr},children:[yr.component!==!1&&(0,R.jsx)("input",{type:"text",style:{display:"none"}}),qr]})})})}var Yr=0;function Qr(r){var t=r.extraUrlParams,h=t===void 0?{}:t,s=r.syncToUrl,U=r.isKeyPressSubmit,C=r.syncToUrlAsImportant,V=C===void 0?!1:C,d=r.syncToInitialValues,l=d===void 0?!0:d,i=r.children,A=r.contentRender,o=r.submitter,Z=r.fieldProps,b=r.formItemProps,f=r.groupProps,I=r.dateFormatter,w=I===void 0?"string":I,W=r.formRef,z=r.onInit,u=r.form,F=r.formComponentType,x=r.onReset,S=r.grid,G=r.rowProps,mr=r.colProps,Xr=r.omitNil,yr=Xr===void 0?!0:Xr,gr=r.request,oe=r.params,k=r.initialValues,wr=r.formKey,kr=wr===void 0?Yr:wr,$r=r.readonly,H=(0,fr.Z)(r,ne),N=(0,a.useRef)({}),rr=(0,Lr.Z)(!1),Mr=(0,T.Z)(rr,2),qr=Mr[0],hr=Mr[1],v=(0,Or.l)({},{disabled:!s}),m=(0,T.Z)(v,2),y=m[0],c=m[1],$=(0,a.useRef)((0,jr.x)());(0,a.useEffect)(function(){Yr+=0},[]);var q=lr({request:gr,params:oe,proFieldKey:kr}),dr=(0,T.Z)(q,1),er=dr[0],tr=(0,a.useState)(function(){return s?br(s,y,"get"):{}}),fe=(0,T.Z)(tr,2),ve=fe[0],me=fe[1],ae=(0,a.useRef)({}),ie=(0,a.useRef)({}),se=(0,a.useCallback)(function(ar,M,E){return j((0,Kr.ZP)(ar,w,ie.current,M,E),ae.current,M)},[w]);(0,a.useEffect)(function(){l||me({})},[l]),(0,a.useEffect)(function(){!s||c((0,n.Z)((0,n.Z)({},y),h))},[h,s]);var ye=(0,a.useMemo)(function(){if(!(typeof window>"u")&&F&&["DrawerForm"].includes(F))return function(ar){return ar.parentNode||document.body}},[F]),ge=(0,Rr.J)((0,D.Z)((0,J.Z)().mark(function ar(){var M,E,_,Zr,Er,ir;return(0,J.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(H.onFinish){L.next=2;break}return L.abrupt("return");case 2:if(!qr){L.next=4;break}return L.abrupt("return");case 4:return hr(!0),L.prev=5,_=N==null||(M=N.current)===null||M===void 0||(E=M.getFieldsFormatValue)===null||E===void 0?void 0:E.call(M),L.next=9,H.onFinish(_);case 9:s&&(ir=Object.keys(N==null||(Zr=N.current)===null||Zr===void 0||(Er=Zr.getFieldsFormatValue)===null||Er===void 0?void 0:Er.call(Zr,void 0,!1)).reduce(function(Fr,ce){var le;return(0,n.Z)((0,n.Z)({},Fr),{},(0,p.Z)({},ce,(le=_[ce])!==null&&le!==void 0?le:void 0))},h),Object.keys(y).forEach(function(Fr){ir[Fr]!==!1&&ir[Fr]!==0&&!ir[Fr]&&(ir[Fr]=void 0)}),c(br(s,ir,"set"))),hr(!1),L.next=16;break;case 13:L.prev=13,L.t0=L.catch(5),hr(!1);case 16:case"end":return L.stop()}},ar,null,[[5,13]])})));return(0,a.useImperativeHandle)(W,function(){return N.current},[!er]),!er&&r.request?(0,R.jsx)("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:(0,R.jsx)(nr.Z,{})}):(0,R.jsx)(Gr.A.Provider,{value:{mode:r.readonly?"read":"edit"},children:(0,R.jsx)(Cr.oK,{children:(0,R.jsx)(Sr.Z.Provider,{value:{formRef:N,fieldProps:Z,formItemProps:b,groupProps:f,formComponentType:F,getPopupContainer:ye,formKey:$.current,setFieldValueType:function(M,E){var _=E.valueType,Zr=_===void 0?"text":_,Er=E.dateFormat,ir=E.transform;!Array.isArray(M)||(ae.current=(0,g.Z)(ae.current,M,ir),ie.current=(0,g.Z)(ie.current,M,{valueType:Zr,dateFormat:Er}))}},children:(0,R.jsx)(Y.Z,(0,n.Z)((0,n.Z)({onKeyPress:function(M){if(!!U&&M.key==="Enter"){var E;(E=N.current)===null||E===void 0||E.submit()}},autoComplete:"off",form:u},(0,cr.Z)(H,["autoFocusFirstInput"])),{},{initialValues:V?(0,n.Z)((0,n.Z)((0,n.Z)({},er),k),ve):(0,n.Z)((0,n.Z)((0,n.Z)({},ve),er),k),onValuesChange:function(M,E){var _;H==null||(_=H.onValuesChange)===null||_===void 0||_.call(H,se(M,!!yr),se(E,!!yr))},onFinish:ge,children:(0,R.jsx)(Jr,(0,n.Z)((0,n.Z)({transformKey:se,autoComplete:"off",loading:qr,onUrlSearchChange:c},r),{},{formRef:N,initialValues:(0,n.Z)((0,n.Z)({},k),er)}))}))})})})}},47232:function(ue,Pr,e){e.d(Pr,{A:function(){return g}});var Ur=e(82621),nr=e(71257),T=e(1413),p=e(85893),n=e(42489),J=e(4942),D=e(92253),Nr=e(19650),pr=e(207),Dr=e(99543),Y=e(29439),fr=e(8812),R=e(56725),Cr=e(49092),a=e(94184),sr=e.n(a),P=e(67294),xr=e(66758),lr=e(2514),vr=P.forwardRef(function(B,or){var K=P.useContext(xr.Z),ur=K.groupProps,j=(0,T.Z)((0,T.Z)({},ur),B),Br=j.children,Rr=j.collapsible,_r=j.defaultCollapsed,re=j.style,ee=j.labelLayout,Lr=j.title,jr=Lr===void 0?B.label:Lr,Kr=j.tooltip,Or=j.align,cr=Or===void 0?"start":Or,Ir=j.direction,te=j.size,Wr=te===void 0?32:te,de=j.titleStyle,Tr=j.titleRender,X=j.spaceProps,Ar=j.extra,Sr=j.autoFocus,zr=(0,R.Z)(function(){return _r||!1},{value:B.collapsed,onChange:B.onCollapse}),Gr=(0,Y.Z)(zr,2),Vr=Gr[0],ne=Gr[1],br=(0,P.useContext)(Dr.ZP.ConfigContext),Hr=br.getPrefixCls,Jr=(0,lr.zx)(B),Yr=Jr.ColWrapper,Qr=Jr.RowWrapper,r=Hr("pro-form-group"),t=Rr&&(0,p.jsx)(fr.Z,{style:{marginRight:8},rotate:Vr?void 0:90}),h=(0,p.jsx)(Cr.Z,{label:t?(0,p.jsxs)("div",{children:[t,jr]}):jr,tooltip:Kr}),s=(0,P.useCallback)(function(i){var A=i.children;return(0,p.jsx)(Nr.Z,(0,T.Z)((0,T.Z)({},X),{},{className:sr()("".concat(r,"-container"),X==null?void 0:X.className),size:Wr,align:cr,direction:Ir,style:(0,T.Z)({rowGap:0},X==null?void 0:X.style),children:A}))},[cr,r,Ir,Wr,X]),U=Tr?Tr(h,B):h,C=(0,P.useMemo)(function(){var i=[],A=P.Children.toArray(Br).map(function(o,Z){var b;return P.isValidElement(o)&&(o==null||(b=o.props)===null||b===void 0?void 0:b.hidden)?(i.push(o),null):Z===0&&P.isValidElement(o)&&Sr?P.cloneElement(o,(0,T.Z)((0,T.Z)({},o.props),{},{autoFocus:Sr})):o});return[(0,p.jsx)(Qr,{Wrapper:s,children:A},"children"),i.length>0?(0,p.jsx)("div",{style:{display:"none"},children:i}):null]},[Br,Qr,s,Sr]),V=(0,Y.Z)(C,2),d=V[0],l=V[1];return(0,p.jsx)(Yr,{children:(0,p.jsxs)("div",{className:sr()(r,(0,J.Z)({},"".concat(r,"-twoLine"),ee==="twoLine")),style:re,ref:or,children:[l,(jr||Kr||Ar)&&(0,p.jsx)("div",{className:"".concat(r,"-title"),style:de,onClick:function(){ne(!Vr)},children:Ar?(0,p.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[U,(0,p.jsx)("span",{onClick:function(A){return A.stopPropagation()},children:Ar})]}):U}),Rr&&Vr?null:d]})})});vr.displayName="ProForm-Group";var O=vr,Q=e(67977);function g(B){return(0,p.jsx)(n.I,(0,T.Z)({layout:"vertical",submitter:{render:function(K,ur){return ur.reverse()}},contentRender:function(K,ur){return(0,p.jsxs)(p.Fragment,{children:[K,ur]})}},B))}g.Group=O,g.useForm=nr.Z.useForm,g.Item=Q.Z,g.useWatch=nr.Z.useWatch,g.ErrorList=nr.Z.ErrorList,g.Provider=nr.Z.Provider,g.useFormInstance=nr.Z.useFormInstance},49092:function(ue,Pr,e){e.d(Pr,{Z:function(){return R}});var Ur=e(1413),nr=e(27230),T=e(45777),p=e(4942),n=e(207),J=e(99543),D=e(85893),Nr=e(68628),pr=e(94184),Dr=e.n(pr),Y=e(67294),fr=function(a){var sr=a.label,P=a.tooltip,xr=a.ellipsis,lr=a.subTitle,vr=(0,Y.useContext)(J.ZP.ConfigContext),O=vr.getPrefixCls;if(!P&&!lr)return(0,D.jsx)(D.Fragment,{children:sr});var Q=O("pro-core-label-tip"),g=typeof P=="string"||Y.isValidElement(P)?{title:P}:P,B=(g==null?void 0:g.icon)||(0,D.jsx)(Nr.Z,{});return(0,D.jsxs)("div",{className:Q,onMouseDown:function(K){return K.stopPropagation()},onMouseLeave:function(K){return K.stopPropagation()},onMouseMove:function(K){return K.stopPropagation()},children:[(0,D.jsx)("div",{className:Dr()("".concat(Q,"-title"),(0,p.Z)({},"".concat(Q,"-title-ellipsis"),xr)),children:sr}),lr&&(0,D.jsx)("div",{className:"".concat(Q,"-subtitle"),children:lr}),P&&(0,D.jsx)(T.Z,(0,Ur.Z)((0,Ur.Z)({},g),{},{children:(0,D.jsx)("span",{className:"".concat(Q,"-icon"),children:B})}))]})},R=Y.memo(fr)}}]);
